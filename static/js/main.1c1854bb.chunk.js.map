{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","servises/image-api.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","inputValue","useState","input","setInput","className","s","searchbar","onSubmit","event","preventDefault","alert","type","autocomplete","autofocus","placeholder","value","onInput","e","target","toLowerCase","ImageGalleryItem","src","alt","openModal","largeUrl","galleryItem","onClick","galleryItemImage","Button","buttonBox","button","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","hendleKeyDown","removeEventListener","code","createPortal","overlay","currentTarget","modal","Loader","cssloadSquares","api","fetchImage","name","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","images","setImages","error","setError","setPage","showModal","setShowModal","setLargeUrl","status","setStatus","imageApi","hits","catch","toggleModal","getLargeUrl","url","title","message","gallery","map","image","webformatURL","largeImageURL","id","App","setValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1c1854bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ImageGallery_title__1pRGs\",\"gallery\":\"ImageGallery_gallery__2AdcO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1tDbQ\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__1FRm_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__3-BLe\",\"button\":\"Button_button__IpI5S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__30mja\",\"modal\":\"Modal_modal__2S_m-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__J6PhQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cssloadSquares\":\"Loader_cssloadSquares__15c2F\",\"rotateY\":\"Loader_rotateY__1Ucuv\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ inputValue }) {\n  const [input, setInput] = useState('');\n\n  const searchInput = e => {\n    setInput([e.target.value.toLowerCase()]);\n  };\n\n  const searchButton = event => {\n    event.preventDefault();\n    if (input === '') {\n      alert('Enter your search term');\n      return;\n    }\n    inputValue(input);\n    setInput('');\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className=\"form\" onSubmit={searchButton}>\n        <button type=\"submit\" className=\"button\">\n          Поиск\n        </button>\n\n        <input\n          className=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          autofocus\n          placeholder=\"Search images and photos\"\n          value={input}\n          onInput={searchInput}\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ src, alt, openModal, largeUrl }) {\r\n  return (\r\n    <li className={s.galleryItem} onClick={openModal}>\r\n      <img\r\n        className={s.galleryItemImage}\r\n        src={src}\r\n        alt={alt}\r\n        onClick={largeUrl}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <div className={s.buttonBox}>\n      <button className={s.button} type=\"button\" onClick={onClick}>\n        Load more...\n      </button>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', hendleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', hendleKeyDown);\n    };\n  }, []);\n\n  const hendleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const clickOnModal = event => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={clickOnModal}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import s from './Loader.module.css';\nimport React from 'react';\n\nexport default function Loader() {\n  return (\n    <div className={s.cssloadSquares}>\n      <span></span>\n      <span></span>\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n  );\n}\n","function fetchImage(name, page) {\r\n  const KEY = '24115894-e73b87c75d7b7d0a00bbe3b23';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Image with name ${name} not found`));\r\n  });\r\n}\r\n\r\nconst api = { fetchImage };\r\n\r\nexport default api;\r\n","import { useState, useEffect } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport Loader from '../Loader/Loader';\nimport imageApi from '../../servises/image-api.js';\n\nexport default function ImageGallery({ name }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [largeUrl, setLargeUrl] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setPage(1);\n  }, [name]);\n\n  useEffect(() => {\n    if (name === '') {\n      setStatus('idle');\n    } else {\n      setStatus('pending');\n      imageApi\n        .fetchImage(name, page)\n        .then(images => setImages(images.hits), setStatus('resolved'))\n        .catch(error => {\n          setError(error);\n          setStatus('rejected');\n        });\n    }\n  }, [name, page]);\n\n  const toggleModal = e => {\n    setShowModal(!showModal);\n  };\n\n  const getLargeUrl = url => setLargeUrl(url.target.alt);\n\n  const loadMore = () => setPage(page + 1);\n\n  if (status === 'idle') {\n    return <h2 className={s.title}>Let's find some images</h2>;\n  }\n  if (status === 'pending') {\n    return <Loader />;\n  }\n  if (status === 'rejected') {\n    return <h2 className={s.title}>{error.message}</h2>;\n  }\n  if (status === 'resolved') {\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeUrl} alt=\"www\" />\n          </Modal>\n        )}\n        <ul className={s.gallery}>\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.id}\n              src={image.webformatURL}\n              alt={image.largeImageURL}\n              openModal={toggleModal}\n              largeUrl={getLargeUrl}\n            />\n          ))}\n        </ul>\n\n        <Button onClick={loadMore} />\n      </>\n    );\n  }\n}\n","import './App.css';\nimport { useState } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nexport default function App() {\n  const [value, setValue] = useState('');\n\n  const searchValue = value => setValue([value]);\n\n  return (\n    <div className=\"App\">\n      <Searchbar inputValue={searchValue} />\n      <ImageGallery name={value} />\n    </div>\n  );\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}